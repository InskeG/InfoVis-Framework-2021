{% extends "base.html" %}
{% block title %}D3 Visualization{% endblock %}
{% block body %}
<script type="text/javascript">
	d3.selectAll(".nav-item").classed("active", false);
	d3.select("#nav-link-d3").classed("active", true);
</script>

<link href="../static/css/tooltip.css" rel="stylesheet" type="text/css">

<H2 class="mt-3">Spotify Song Info</H2>

<!-- <ul>
	{#{% for index in song_data %}
	<li>{{ song_data[index] }}</li>
	{% endfor %}#}
</ul> -->

<div class="mt-3" id="barchart">
</div>

<script type="text/javascript" src="../static/js/spotifychart.js"></script>
<script type="text/javascript" charset="utf-8">
	var x_variables = {{ names | safe }};
	var song_data;

	var width = 1500;
	var height = 700;
	var chart_height = 400,
		chart_width = 1300;

	var svgContainer = d3.select("#barchart").append("svg")
					.attr("height", height)
					.attr("width", width);

	var y = d3.scaleLinear().rangeRound([chart_height, 0]),
		x = d3.scaleBand().rangeRound([0, chart_width]);

	y.domain([0, 1]);
	x.domain(x_variables);

	updatePlot();
</script>

{% endblock %}
